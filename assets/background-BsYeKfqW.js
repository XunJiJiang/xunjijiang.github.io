import{j as k,a as c,h as u,k as l}from"./index-CaEqWHby.js";function v(e){return new Promise(t=>{setTimeout(()=>{t(!!e)},1e3)})}function m({phone:e,password:t,verificationCode:n}){return new Promise(s=>{setTimeout(()=>{s({token:"token"+e+t+n})},1e3)})}const P=k("login",()=>{const e=c(void 0),t=o=>{e.value=o},n=u(()=>e.value),s=u(()=>{if(typeof e.value=="string"){const o=v(e.value);return o.then(r=>{a.value=r}),o}return a.value=!1,Promise.resolve(!1)}),a=c(!1),i=()=>e.value=void 0;return{token:e,setToken:t,getToken:n,isAuthenticated:s,isAuthenticatedCache:a,removeToken:i,login:async({phone:o,password:r,verificationCode:g})=>{const f=await m({phone:o,password:r,verificationCode:g});t(f.token),l.push("/")},logout:(o=!1)=>{i(),o&&l.push("/login")},localStorageConfig:u(()=>({token:{timeout:1e3*60*60*24}}))}}),T="/assets/background-BPfqf2Je.jpg";export{T as b,P as u};
